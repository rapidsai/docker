# Copyright (c) 2025-2026, NVIDIA CORPORATION.
apiVersion: container-canary.nvidia.com/v1
kind: Validator
name: rapids-notebooks
description: |
  Tests characteristics that any RAPIDS images shipping Jupyter
  are expected to have.
documentation: https://github.com/rapidsai/docker
checks:
  - name: env-dask-cuda
    description: dask-labextension is configured to use dask-cuda by default via environment variables
    probe:
      exec:
        command:
          - /bin/bash
          - -c
          - '[[ "${ENV DASK_LABEXTENSION__FACTORY__CLASS}" == "LocalCUDACluster" ]] && [[ "${DASK_LABEXTENSION__FACTORY__MODULE}" == "dask_cuda" ]];'
  - name: tool-jupyter-lab
    description: jupyter lab can be executed
    probe:
      exec:
        command:
          - jupyter
          - lab
          - --version
